<html>
  <head>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@3.0.3/dist/aframe-event-set-component.min.js"></script>
    <script>
  AFRAME.registerComponent('change', {
    schema: {
    },

    init: function () {
      var currentEvent = "animation-start";
      var data = this.data;
      var thisElId = this.el.getAttribute('id');
      var elId = "";
      switch (thisElId) {
        case "hawaiiBox":
          elId = "hawaiiChoiceMeter"
          break;
        case "salamiBox":
          elId = "salamiChoiceMeter"
          break;
        case "hamBox":
          elId = "hamChoiceMeter"
          break;
        case "sauceBox":
          elId = "sauceChoiceMeter";
         break;
        case "pizzaBox":
          elId = "pizzaChoiceMeter";
          break;
        case "doughBox":
          elId = "doughChoiceMeter";
          break;
        default:
        elId = "sauceChoiceMeter";
      }
      console.log(elId)
      var el = this.el; // <a-box>
        document.getElementById(elId).addEventListener('animationcomplete', function(){
          console.log(elId);
          switch (elId){
            case "hawaiiChoiceMeter":
            case "hamChoiceMeter":
            case "salamiChoiceMeter":
            document.getElementById('pizzaChoice').setAttribute('visible', 'false');
            document.getElementById('pizzaChoice').setAttribute('position', '-5 -10 -10');
            break;

            case "doughChoiceMeter":
            case "sauceChoiceMeter":
            case "pizzaChoiceMeter":
              document.getElementById('tutorialChoice').setAttribute('visible', 'false');
              document.getElementById('tutorialChoice').setAttribute('position', '-5 -10 -10');
              document.getElementById('pizzaChoice').setAttribute('visible', 'true');
              break;
          }
        });
      el.addEventListener('mouseenter', function () {
        document.getElementById(elId).emit(currentEvent);
        switch (currentEvent) {
          case "animation-start":
          case "animation-restart":
          case "animation-resume":
            currentEvent = "animation-pause";
          break;
          case "animation-pause":
            currentEvent = "animation-resume";
          break;
        }
        console.log("test");
      });

      el.addEventListener('mouseleave', function () {
        document.getElementById(elId).emit("animation-pause");
        document.getElementById(elId).setAttribute("height", "0.2");
        currentEvent = "animation-start";
        console.log("test2");
      });
    }
  });
</script>
  </head>
  <body>
    <a-scene background="color: darkblue">
      <a-assets>
        <img id="deeg" src="https://cdn.glitch.com/4ad92b88-abdc-40ec-bc86-a7c26956db38%2Fdownload%20(2).jpg?1623923408365">
        <img id="saus" src="https://cdn.glitch.com/4ad92b88-abdc-40ec-bc86-a7c26956db38%2Fthumbnails%2Fdownload%20(5).jpg?1623923959220">
        <img id="pizza" src="https://cdn.glitch.com/4ad92b88-abdc-40ec-bc86-a7c26956db38%2Fdownload%20(4).jpg?1623923522668">
        <img id="hawaiiPizza" src="https://cdn.glitch.com/cdddc178-3bc7-4793-beb0-f147ddbf5afd%2FhawaiiPizza.jpeg?1624268226949">
        <img id="hamPizza" src="https://cdn.glitch.com/cdddc178-3bc7-4793-beb0-f147ddbf5afd%2FhamPizza.jpeg?1624268298540">
        <img id="salamiPizza" src="https://cdn.glitch.com/cdddc178-3bc7-4793-beb0-f147ddbf5afd%2Fthumbnails%2FsalamiPizza.jpeg?1624268276899">
      </a-assets>
      <a-camera>
        <a-cursor color="white"></a-cursor>
      </a-camera>
      <a-entity id="tutorialChoice">
      <a-box
      id="sauceChoiceMeter"
      position="-5.2 4 -4"
      depth="0.2"
      height="0.2"
      width="0.4"
      color="lightgreen"
      animation="property: height;
                  to: 3;
                  easing: linear;
                  dur: 3000;
                  loop: false;
                  startEvents: animation-start;
                  pauseEvents: animation-pause;
                  resumeEvents: animation-resume;
                  restartEvents: animation-restart"
      ></a-box>
      <a-box
      id="doughChoiceMeter"
      position="-1.7 4 -4"
      depth="0.2"
      height="0.2"
      width="0.4"
      color="lightgreen"
      animation="property: height;
                to: 3;
                easing: linear;
                dur: 3000;
                loop: false;
                startEvents: animation-start;
                pauseEvents: animation-pause;
                resumeEvents: animation-resume;
                restartEvents: animation-restart"
      ></a-box>
      <a-box
      id="pizzaChoiceMeter"
      position="1.8 4 -4"
      depth="0.2"
      height="0.2"
      width="0.4"
      color="lightgreen"
      animation="property: height;
                to: 3;
                easing: linear;
                dur: 3000;
                loop: false;
                startEvents: animation-start;
                pauseEvents: animation-pause;
                resumeEvents: animation-resume;
                restartEvents: animation-restart"
      ></a-box>
      <a-box
        id="backgroundBox"
        position="0 4 -4.1"
        rotation=" 0 0 0"
        depth="0.2"
        width="12"
        height="6"
        color="#000000"
        shadow
      ></a-box>
      <a-box
        id="sauceBox"
        change
        position="-3.5 4 -4"
        depth="0.2"
        height="3"
        width="3"
        src="#saus"
        shadow
      ></a-box>
      <a-box
        id="doughBox"
        change
        position="0 4 -4"
        depth="0.2"
        height="3"
        width="3"
        src="#deeg"
        shadow
      ></a-box>
      <a-box
        id="pizzaBox"
        change
        position="3.5 4 -4"
        depth="0.2"
        height="3"
        width="3"
        src="#pizza"
        shadow
      ></a-box>
      <a-plane
        position="0 0 0"
        rotation="-90 0 0"
        width="20"
        height="20"
        color="#7BC8A4"
        shadow
      ></a-plane>
    </a-entity>
    <a-entity id="pizzaChoice" visible="false">
    <a-box
    id="salamiChoiceMeter"
    position="-5.2 4 -4"
    depth="0.2"
    height="0.2"
    width="0.4"
    color="lightgreen"
    animation="property: height;
                to: 3;
                easing: linear;
                dur: 3000;
                loop: false;
                startEvents: animation-start;
                pauseEvents: animation-pause;
                resumeEvents: animation-resume;
                restartEvents: animation-restart"
    ></a-box>
    <a-box
    id="hamChoiceMeter"
    position="-1.7 4 -4"
    depth="0.2"
    height="0.2"
    width="0.4"
    color="lightgreen"
    animation="property: height;
              to: 3;
              easing: linear;
              dur: 3000;
              loop: false;
              startEvents: animation-start;
              pauseEvents: animation-pause;
              resumeEvents: animation-resume;
              restartEvents: animation-restart"
    ></a-box>
    <a-box
    id="hawaiiChoiceMeter"
    position="1.8 4 -4"
    depth="0.2"
    height="0.2"
    width="0.4"
    color="lightgreen"
    animation="property: height;
              to: 3;
              easing: linear;
              dur: 3000;
              loop: false;
              startEvents: animation-start;
              pauseEvents: animation-pause;
              resumeEvents: animation-resume;
              restartEvents: animation-restart"
    ></a-box>
    <a-box
      id="backgroundBox"
      position="0 4 -4.1"
      rotation=" 0 0 0"
      depth="0.2"
      width="12"
      height="6"
      color="#000000"
      shadow
    ></a-box>
    <a-box
      id="salamiBox"
      change
      position="-3.5 4 -4"
      depth="0.2"
      height="3"
      width="3"
      src="#salamiPizza"
      shadow
    ></a-box>
    <a-box
      id="hamBox"
      change
      position="0 4 -4"
      depth="0.2"
      height="3"
      width="3"
      src="#hamPizza"
      shadow
    ></a-box>
    <a-box
      id="hawaiiBox"
      change
      position="3.5 4 -4"
      depth="0.2"
      height="3"
      width="3"
      src="#hawaiiPizza"
      shadow
    ></a-box>
    <a-plane
      position="0 0 0"
      rotation="-90 0 0"
      width="20"
      height="20"
      color="#7BC8A4"
      shadow
    ></a-plane>
  </a-entity>
    </a-scene>
  </body>
</html>
